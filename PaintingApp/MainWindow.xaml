<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="PaintingApp.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PaintingApp"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Painting App">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="48"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Custom Title Bar -->
        <Grid x:Name="AppTitleBar" 
              Grid.Row="0"
              VerticalAlignment="Stretch">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- App Icon -->
            <Image Source="Assets/Logo.png"
                   Grid.Column="0"
                   Width="32"
                   Height="32"
                   Margin="8,0"/>

            <!-- Back Button -->
            <Button x:Name="BackButton"
                    Grid.Column="1"
                    Style="{StaticResource NavigationBackButtonNormalStyle}"
                    IsEnabled="False"
                    Margin="8,0,0,0"
                    VerticalAlignment="Center"
                    Click="BackButton_Click"
                    ToolTipService.ToolTip="Back"/>

            <!-- App Title -->
            <TextBlock x:Name="AppTitleTextBlock"
                       Grid.Column="2"
                       Text="Painting App"
                       Style="{StaticResource CaptionTextBlockStyle}"
                       VerticalAlignment="Center"
                       Margin="12,0,0,0"/>

            <!-- Drag Region -->
            <Grid Grid.Column="3" 
                  Background="Transparent"/>
        </Grid>

        <!-- Main Content Area -->
        <Grid Grid.Row="1">
            <NavigationView x:Name="NavView"
                            IsBackButtonVisible="Collapsed"
                            IsSettingsVisible="True"
                            IsPaneToggleButtonVisible="True"
                            PaneDisplayMode="Auto"
                            OpenPaneLength="240"
                            CompactPaneLength="48"
                            CompactModeThresholdWidth="641"
                            ExpandedModeThresholdWidth="1008"
                            SelectionChanged="NavView_SelectionChanged"
                            DisplayModeChanged="NavView_DisplayModeChanged">

                <NavigationView.MenuItems>
                    <NavigationViewItem x:Name="HomeNavItem" 
                                        Content="Home" 
                                        Tag="Home"
                                        ToolTipService.ToolTip="Home">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE80F;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem x:Name="DrawingNavItem" 
                                        Content="Drawing" 
                                        Tag="Drawing"
                                        IsEnabled="False"
                                        ToolTipService.ToolTip="Drawing Canvas">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE929;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem x:Name="ManagementNavItem" 
                                        Content="Management" 
                                        Tag="Management"
                                        ToolTipService.ToolTip="Manage Boards and Templates">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE8F1;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>
                </NavigationView.MenuItems>

                <Frame x:Name="ContentFrame"/>
            </NavigationView>
        </Grid>
    </Grid>
</Window>
