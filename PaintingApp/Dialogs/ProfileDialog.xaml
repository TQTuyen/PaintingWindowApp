<?xml version="1.0" encoding="utf-8"?>
<ContentDialog
    x:Class="PaintingApp.Dialogs.ProfileDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Profile Settings"
    PrimaryButtonText="Save"
    SecondaryButtonText="Cancel"
    DefaultButton="Primary"
    PrimaryButtonClick="ContentDialog_PrimaryButtonClick"
    Style="{StaticResource DefaultContentDialogStyle}">

    <ScrollViewer MaxHeight="500" VerticalScrollBarVisibility="Auto">
        <StackPanel Spacing="16" Padding="0,0,16,0">

            <!-- Profile Name -->
            <StackPanel Spacing="4">
                <TextBlock Text="Profile Name"
                           Style="{StaticResource BodyStrongTextBlockStyle}"/>
                <TextBox x:Name="NameTextBox"
                         PlaceholderText="Enter profile name"
                         MaxLength="100"
                         TextChanged="NameTextBox_TextChanged"/>
                <TextBlock x:Name="NameErrorText"
                           Text="Profile name is required"
                           Foreground="{ThemeResource SystemFillColorCriticalBrush}"
                           Style="{StaticResource CaptionTextBlockStyle}"
                           Visibility="Collapsed"/>
            </StackPanel>

            <!-- Description -->
            <StackPanel Spacing="4">
                <TextBlock Text="Description"
                           Style="{StaticResource BodyStrongTextBlockStyle}"/>
                <TextBox x:Name="DescriptionTextBox"
                         PlaceholderText="Enter description (optional)"
                         MaxLength="500"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         Height="80"/>
            </StackPanel>

            <!-- Theme Selection -->
            <StackPanel Spacing="4">
                <TextBlock Text="Theme"
                           Style="{StaticResource BodyStrongTextBlockStyle}"/>
                <ComboBox x:Name="ThemeComboBox"
                          HorizontalAlignment="Stretch"
                          SelectedIndex="0">
                    <ComboBoxItem Content="System" Tag="System"/>
                    <ComboBoxItem Content="Light" Tag="Light"/>
                    <ComboBoxItem Content="Dark" Tag="Dark"/>
                </ComboBox>
            </StackPanel>

            <!-- Canvas Size -->
            <StackPanel Spacing="8">
                <TextBlock Text="Default Canvas Size"
                           Style="{StaticResource BodyStrongTextBlockStyle}"/>
                <Grid ColumnSpacing="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <NumberBox x:Name="CanvasWidthNumberBox"
                               Grid.Column="0"
                               Header="Width"
                               Value="800"
                               Minimum="100"
                               Maximum="4000"
                               SpinButtonPlacementMode="Inline"/>

                    <FontIcon Grid.Column="1"
                              Glyph="&#xE711;"
                              VerticalAlignment="Bottom"
                              Margin="0,0,0,8"/>

                    <NumberBox x:Name="CanvasHeightNumberBox"
                               Grid.Column="2"
                               Header="Height"
                               Value="600"
                               Minimum="100"
                               Maximum="4000"
                               SpinButtonPlacementMode="Inline"/>
                </Grid>
            </StackPanel>

            <!-- Default Stroke Settings -->
            <StackPanel Spacing="8">
                <TextBlock Text="Default Stroke Settings"
                           Style="{StaticResource BodyStrongTextBlockStyle}"/>

                <!-- Stroke Thickness -->
                <NumberBox x:Name="StrokeThicknessNumberBox"
                           Header="Thickness"
                           Value="2"
                           Minimum="0.5"
                           Maximum="50"
                           SmallChange="0.5"
                           LargeChange="1"
                           SpinButtonPlacementMode="Inline"/>

                <!-- Stroke Color -->
                <StackPanel Spacing="4">
                    <TextBlock Text="Stroke Color"
                               Style="{StaticResource CaptionTextBlockStyle}"/>
                    <Grid ColumnSpacing="8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0"
                                x:Name="StrokeColorPreview"
                                Width="40"
                                Height="32"
                                Background="Black"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                CornerRadius="4"/>

                        <Button Grid.Column="1"
                                Content="Choose Color"
                                Click="ChooseStrokeColor_Click"/>
                    </Grid>
                </StackPanel>

                <!-- Stroke Style -->
                <StackPanel Spacing="4">
                    <TextBlock Text="Stroke Style"
                               Style="{StaticResource CaptionTextBlockStyle}"/>
                    <ComboBox x:Name="StrokeStyleComboBox"
                              HorizontalAlignment="Stretch"
                              SelectedIndex="0">
                        <ComboBoxItem Content="Solid" Tag="Solid"/>
                        <ComboBoxItem Content="Dashed" Tag="Dashed"/>
                        <ComboBoxItem Content="Dotted" Tag="Dotted"/>
                    </ComboBox>
                </StackPanel>
            </StackPanel>

        </StackPanel>
    </ScrollViewer>
</ContentDialog>
